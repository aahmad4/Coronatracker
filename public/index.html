<!DOCTYPE html>
<html>
  <head>
    <title>Coronavirus Tracker</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="style.css" />
    <script>
      var countrySelect,countryImage,countryImageBar,countrySelect1,countrySelect2,countryImageComp;
      window.onload=function(){
        document.body.className='';
      };
      window.onbeforeunload=function(){
        document.body.className='fade';
      };
    </script>
  </head>
  <body class="fade">
    <h1>Coronavirus Tracker</h1>
    <p>
      This tool provides charts and graphs of coronavirus statistics for different countries. The data is updated roughly once every hour.
    </p>
    <br/>
    <h3>
      Country By Country
    </h3>
    <br/>
    <div class="dropdown">
      <fieldset>
        <legend>Select a Country</legend>
        <select id="countries"></select>
      </fieldset>
    </div>
    <br/>
    <button onclick="updateImages();">
      Get Data
    </button>
    <br/>
    <br/>
    <img id="countryImage" />
    <img id="countryImageBar" />
    <h3>
      Compare Active Cases between Countries
    </h3>
    <br/>
    <div class="dropdown">
      <fieldset>
        <legend>Select Country 1</legend>
        <select id="country1"></select>
      </fieldset>
    </div>
    <br/>
    <div class="dropdown">
      <fieldset>
        <legend>Select Country 2</legend>
        <select id="country2"></select>
      </fieldset>
    </div>
    <br/>
    <button onclick="updateImagesComp();">
      Compare countries
    </button>
    <br/>
    <br/>
    <img id="countryImageComp" />
    <script>
      countrySelect = document.getElementById("countries");
      countryImage = document.getElementById("countryImage");
      countryImageBar = document.getElementById("countryImageBar");
      function updateImages(){
        countryImage.src='';
        countryImageBar.src='';
        countryImage.src = '/c/' + csljson[countrySelect.value].toLowerCase();
        countryImageBar.src = '/c/' + csljson[countrySelect.value].toLowerCase()+"__bar";
      }
      countrySelect1 = document.getElementById("country1");
      countrySelect2 = document.getElementById("country2");
      countryImageComp = document.getElementById("countryImageComp");
      function updateImagesComp(){
        countryImageComp.src='';
        countryImageComp.src = '/c/' + csljson[countrySelect1.value].toLowerCase() + '_' + csljson[countrySelect2.value].toLowerCase() + '__comp';
      }
      var csljson=***countries***;//node js replaces this with the country list when the page is sent to web
      Object.keys(csljson).forEach(n=>[...document.querySelectorAll("select")].forEach(e=>e.options.add(new Option(n))));
    </script>
    <br/><br/><br/>
    
    <div id="footer">
      Remember To Wash Your Hands Â©Copyright 2020
    </div>
  </body>
</html>
