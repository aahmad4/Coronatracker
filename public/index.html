<!DOCTYPE html>
<html>
  <head>
    <title>Coronavirus Tracker</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="style.css" />
    <script>
      var countrySelect,countryImage,countryImageBar,countrySelect1,countrySelect2,countryImageComp;
      window.onload=function(){
        document.body.className='';
      };
      window.onbeforeunload=function(){
        document.body.className='fade';
      };
    </script>
  </head>
  <body class="fade">
    <h1>Coronavirus Tracker</h1>
    <p>
      This tool provides charts and graphs of coronavirus statistics for different countries. The data is updated roughly once every hour.
    </p>
    <br/>
    <h3>
      Country By Country
    </h3>
    <br/>
    <div class="dropdown">
      <fieldset>
        <legend>Select a Country</legend>
        <select id="countries"></select>
      </fieldset>
    </div>
    <br/>
    <button onclick="updateImages();">
      Get Data
    </button>
    <br/>
    <br/>
    <img id="countryImage" />
    <img id="countryImageBar" />
    <h3>
      Compare Active Cases between Countries
    </h3>
    <br/>
    <div class="dropdown">
      <fieldset>
        <legend>Select Country 1</legend>
        <select id="country1"></select>
      </fieldset>
    </div>
    <br/>
    <div class="dropdown">
      <fieldset>
        <legend>Select Country 2</legend>
        <select id="country2"></select>
      </fieldset>
    </div>
    <br/>
    <button onclick="updateImagesComp();">
      Compare countries
    </button>
    <br/>
    <br/>
    <img id="countryImageComp" />
    <script>
      countrySelect = document.getElementById("countries");
      countryImage = document.getElementById("countryImage");
      countryImageBar = document.getElementById("countryImageBar");
      function updateImages(){
        countryImage.src='';
        countryImageBar.src='';
        countryImage.src = '/c/' + csljson[countrySelect.value].toLowerCase();
        countryImageBar.src = '/c/' + csljson[countrySelect.value].toLowerCase()+"__bar";
      }
      countrySelect1 = document.getElementById("country1");
      countrySelect2 = document.getElementById("country2");
      countryImageComp = document.getElementById("countryImageComp");
      function updateImagesComp(){
        countryImageComp.src='';
        countryImageComp.src = '/c/' + csljson[countrySelect1.value].toLowerCase() + '_' + csljson[countrySelect2.value].toLowerCase() + '__comp';
      }
      //var countryNames=['USA','Spain','Italy','UK','France','Germany','Russia','Turkey','Brazil','Iran','Canada','Peru','Belgium','India','Netherlands','Ecuador','Saudi Arabia','Switzerland','Portugal','Mexico','Sweden','Pakistan','Chile','Ireland','Singapore','Belarus','Qatar','Israel','Austria','UAE','Japan','Poland','Romania','Ukraine','Indonesia','Bangladesh','S. Korea','Denmark','Philippines','Serbia','Dominican Republic','Colombia','Norway','Czechia','South Africa','Panama','Egypt','Australia','Malaysia','Kuwait','Finland','Morocco','Argentina','Algeria','Moldova','Kazakhstan','Luxembourg','Bahrain','Afghanistan','Hungary','Thailand','Nigeria','Oman','Ghana','Greece','Armenia','Iraq','Uzbekistan','Croatia','Cameroon','Azerbaijan','Bosnia and Herzegovina','Guinea','Iceland','Estonia','Bulgaria','Cuba','Bolivia','North Macedonia','New Zealand','Slovenia','Ivory Coast','Lithuania','Slovakia','Senegal','Honduras','Djibouti','Hong Kong','Tunisia','Latvia','Cyprus','Kyrgyzstan','Somalia','Albania','Sudan','Sri Lanka','Niger','Costa Rica','Andorra','Lebanon','Guatemala','Diamond Princess','DRC','Mayotte','Burkina Faso','Uruguay','Mali','Georgia','San Marino','El Salvador','Maldives','Channel Islands','Kenya','Malta','Tanzania','Jamaica','Jordan','Taiwan','Paraguay','Réunion','Guinea-Bissau','Palestine','Gabon','Venezuela','Mauritius','Isle of Man','Montenegro','Equatorial Guinea','Tajikistan','Vietnam','Rwanda','Congo','Sierra Leone','Faeroe Islands','Cabo Verde','Martinique','Chad','Liberia','Myanmar','Guadeloupe','Madagascar','Ethiopia','Gibraltar','Zambia','Brunei','French Guiana','Togo','Cambodia','Eswatini','Trinidad and Tobago','Bermuda','Aruba','Haiti','Uganda','Benin','Monaco','Guyana','CAR','Bahamas','Barbados','Liechtenstein','Nepal','Mozambique','Sint Maarten','Cayman Islands','Libya','French Polynesia','South Sudan','Macao','Syria','Malawi','Mongolia','Eritrea','Saint Martin','Angola','Zimbabwe','Antigua and Barbuda','Timor-Leste','Sao Tome and Principe','Botswana','Yemen','Grenada','Laos','Belize','Fiji','New Caledonia','Saint Lucia','Gambia','St. Vincent Grenadines','Curaçao','Dominica','Namibia','Nicaragua','Burundi','Saint Kitts and Nevis','Falkland Islands','Turks and Caicos','Montserrat','Greenland','Vatican City','Seychelles','Suriname','MS Zaandam','Mauritania','Papua New Guinea','Bhutan','British Virgin Islands','Caribbean Netherlands','St. Barth','Western Sahara','Anguilla','Comoros','Saint Pierre Miquelon','China'];
      var csljson=***countries***;//node js replaces this with the country list when the page is sent to web
      Object.keys(csljson).forEach(n=>[...document.querySelectorAll("select")].forEach(e=>e.options.add(new Option(n))));
      //countryNames.forEach(n=>[...document.querySelectorAll("select")].forEach(e=>e.options.add(new Option(n))));
    </script>
    <br/><br/><br/>
    
    <div id="footer">
      Remember To Wash Your Hands ©Copyright 2020
    </div>
  </body>
</html>
